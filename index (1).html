<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pisang Crispy Kita</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the Inter font and smooth scrolling */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #fff9f5; /* Light cream/peach background */
        }
        .section-content {
            min-height: calc(100vh - 80px); /* Full height minus header height */
            padding-top: 80px;
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(250, 100, 0, 0.2);
        }
        /* Custom gradient for the primary button */
        .btn-primary {
            background-image: linear-gradient(to right, #ff7e5f, #feb47b);
            transition: opacity 0.3s ease, transform 0.1s ease;
        }
        .btn-primary:hover {
            opacity: 0.9;
        }
        .btn-primary:active {
            transform: scale(0.98);
        }
    </style>
    <!-- Custom Tailwind Configuration for Banana Colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'banana-yellow': '#ffe561',
                        'crispy-brown': '#a0522d',
                        'primary-orange': '#f97316', /* Tailwind Orange 600 */
                        'primary-light': '#ffedd5', /* Light Peach */
                    },
                }
            }
        }
    </script>
</head>
<body class="text-gray-800">

    <!-- Header / Navigation Bar -->
    <header class="fixed top-0 left-0 right-0 bg-white shadow-lg z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex justify-between items-center">
            <h1 class="text-2xl font-black text-primary-orange">Pisang Crispy Kita</h1>
            <nav>
                <ul class="flex space-x-4">
                    <li><a href="#beranda" class="text-crispy-brown hover:text-primary-orange font-semibold transition duration-200" onclick="showSection('beranda')">Beranda</a></li>
                    <li><a href="#menu" class="text-crispy-brown hover:text-primary-orange font-semibold transition duration-200" onclick="showSection('menu')">Menu</a></li>
                    <li><a href="#checkout" class="text-crispy-brown hover:text-primary-orange font-semibold transition duration-200" onclick="showSection('checkout')">Pesan</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="max-w-7xl mx-auto pt-20">

        <!-- Halaman 1: Beranda (Home) -->
        <section id="beranda" class="section-content container mx-auto px-4 py-16 flex flex-col justify-center items-center text-center">
            <div class="max-w-4xl space-y-8">
                <h2 class="text-5xl sm:text-6xl font-extrabold text-primary-orange">
                    Pisang Crispy: Kelezatan Renyah Tiada Tara!
                </h2>

                <!-- Pengertian Pisang Crispy -->
                <div class="bg-white p-6 rounded-xl shadow-xl border-t-4 border-banana-yellow">
                    <h3 class="text-3xl font-bold mb-4 text-crispy-brown">Apa Itu Pisang Crispy?</h3>
                    <p class="text-lg leading-relaxed">
                        Pisang Crispy adalah inovasi camilan modern yang memadukan kelembutan pisang pilihan yang matang dengan balutan tepung renyah yang digoreng hingga keemasan. Hasilnya adalah tekstur yang unik: renyah di luar, lumer dan manis di dalam. Ditambah dengan beragam topping lezat, Pisang Crispy menjadi teman sempurna untuk segala suasana, mulai dari santai sore hingga kumpul bersama teman.
                    </p>
                </div>

                <!-- Asal Usul Pisang Crispy -->
                <div class="bg-white p-6 rounded-xl shadow-xl border-t-4 border-primary-orange">
                    <h3 class="text-3xl font-bold mb-4 text-crispy-brown">Asal Usul Kelezatan</h3>
                    <p class="text-lg leading-relaxed">
                        Pisang Crispy merupakan pengembangan dari olahan pisang goreng tradisional Indonesia yang sudah melegenda. Sementara pisang goreng biasa fokus pada kesederhanaan, Pisang Crispy berevolusi menjadi camilan premium. Konsep renyah (crispy) pertama kali populer di kalangan penjual makanan ringan kreatif yang ingin memberikan pengalaman tekstur baru. Kini, ia menjadi salah satu jajanan hits yang digemari dari kota hingga desa.
                    </p>
                </div>

                <!-- Kalimat Ajakan -->
                <div class="mt-12">
                    <p class="text-2xl font-semibold text-gray-700 mb-6">
                        Jangan biarkan lidah Anda menunggu! Rasakan sensasi renyah yang membuat ketagihan.
                    </p>
                    <button onclick="showSection('menu')" class="btn-primary text-white font-bold py-4 px-10 rounded-full text-xl shadow-lg hover:shadow-xl focus:outline-none">
                        LIHAT SEMUA PILIHAN MENU KAMI SEKARANG!
                    </button>
                </div>
            </div>
        </section>

        <!-- Halaman 2: Menu Pisang Crispy -->
        <section id="menu" class="section-content container mx-auto px-4 py-16 hidden">
            <h2 class="text-5xl font-extrabold text-center mb-12 text-primary-orange">Menu Pisang Crispy Terbaik</h2>
            <div id="product-list" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Data produk akan diisi oleh JavaScript -->
            </div>
            <div id="cart-summary" class="fixed bottom-0 left-0 right-0 bg-crispy-brown text-white p-4 shadow-2xl transition duration-300 transform translate-y-full">
                <div class="max-w-7xl mx-auto flex justify-between items-center">
                    <p id="cart-count-text" class="text-lg font-semibold"></p>
                    <button onclick="showSection('checkout')" class="bg-banana-yellow text-crispy-brown font-bold py-2 px-6 rounded-full hover:bg-yellow-400 transition duration-200">
                        Checkout Sekarang
                    </button>
                </div>
            </div>
        </section>

        <!-- Halaman 3: Checkout / Pemesanan -->
        <section id="checkout" class="section-content container mx-auto px-4 py-16 flex flex-col justify-center items-center text-center hidden">
            <div class="max-w-xl w-full bg-white p-8 rounded-xl shadow-2xl border-t-8 border-primary-orange">
                <h2 class="text-4xl font-extrabold mb-6 text-crispy-brown">Konfirmasi Pesanan</h2>
                <div id="checkout-summary" class="mb-8 p-4 bg-primary-light rounded-lg text-left border border-primary-orange">
                    <p class="text-lg font-semibold text-primary-orange mb-2">Ringkasan Keranjang:</p>
                    <!-- Detail keranjang akan dimuat di sini oleh JS -->
                </div>

                <div class="space-y-4">
                    <input type="text" id="customer-name" placeholder="Nama Anda" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-orange focus:border-primary-orange" required>
                    <textarea id="customer-address" placeholder="Alamat Pengiriman (Opsional)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-orange focus:border-primary-orange" rows="3"></textarea>
                </div>
                
                <p class="mt-6 text-sm text-gray-500">
                    Klik tombol di bawah untuk melanjutkan pemesanan otomatis ke WhatsApp.
                </p>

                <button onclick="checkoutOrder()" class="btn-primary text-white font-bold py-3 px-8 rounded-full text-xl mt-4 w-full shadow-lg hover:shadow-xl focus:outline-none">
                    Pesan via WhatsApp
                </button>
            </div>
        </section>

    </main>

    <script>
        // Data Produk
        const products = [
            { id: 1, name: "Pisang Crispy Topping Coklat", price: 15000, imgUrl: "https://iili.io/fxi59vs.md.jpg", description: "Pisang crispy klasik dengan lelehan coklat premium yang manis dan menggoda." },
            { id: 2, name: "Pisang Crispy Topping Keju", price: 17000, imgUrl: "https://iili.io/fxiAvgn.md.jpg", description: "Perpaduan unik rasa manis dan gurih dari taburan keju cheddar melimpah." },
            { id: 3, name: "Pisang Crispy Topping Susu", price: 14000, imgUrl: "https://iili.io/fxiTU4n.md.png", description: "Manisnya pisang crispy disempurnakan dengan siraman susu kental manis yang creamy." },
        ];

        let cart = {}; // { productId: quantity }
        const whatsappNumber = "6283806799393"; // Nomor WhatsApp (mengganti 0 menjadi 62)
        let cartSummaryElement;
        let cartCountTextElement;
        let cartSummaryFixedElement;

        document.addEventListener('DOMContentLoaded', () => {
            // Inisialisasi elemen DOM setelah halaman dimuat
            cartSummaryElement = document.getElementById('checkout-summary');
            cartCountTextElement = document.getElementById('cart-count-text');
            cartSummaryFixedElement = document.getElementById('cart-summary');
            
            renderProductList();
            updateCartSummaryDisplay();
            
            // Tampilkan halaman Beranda secara default
            showSection('beranda');
        });

        // Fungsi untuk menampilkan bagian (section) yang dipilih
        function showSection(sectionId) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
            
            if (sectionId === 'menu') {
                cartSummaryFixedElement.classList.remove('translate-y-full');
            } else {
                cartSummaryFixedElement.classList.add('translate-y-full');
            }

            if (sectionId === 'checkout') {
                updateCheckoutSummary();
            }

            // Scroll ke atas section baru
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Fungsi untuk menambahkan produk ke keranjang
        function addToCart(productId) {
            const id = parseInt(productId);
            cart[id] = (cart[id] || 0) + 1;
            updateCartSummaryDisplay();
        }

        // Fungsi untuk merender daftar produk di halaman Menu
        function renderProductList() {
            const productListElement = document.getElementById('product-list');
            productListElement.innerHTML = products.map(product => `
                <div class="card bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
                    <!-- Image with fallback/error handling -->
                    <img src="${product.imgUrl}" alt="${product.name}" 
                        onerror="this.onerror=null;this.src='https://placehold.co/600x400/ffe561/a0522d?text=Pisang+Crispy';"
                        class="w-full h-48 object-cover object-center border-b border-gray-200">
                    
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-crispy-brown mb-2">${product.name}</h3>
                        <p class="text-sm text-gray-500 mb-3">${product.description}</p>
                        <p class="text-3xl font-extrabold text-primary-orange mb-4">
                            Rp ${product.price.toLocaleString('id-ID')}
                        </p>
                        <button onclick="addToCart(${product.id})" class="w-full flex items-center justify-center btn-primary text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg focus:outline-none">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            Tambahkan ke Keranjang
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Fungsi untuk mengupdate ringkasan keranjang di bagian bawah
        function updateCartSummaryDisplay() {
            const totalItems = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
            
            if (totalItems > 0) {
                cartCountTextElement.textContent = `Total ${totalItems} item di keranjang.`;
                cartSummaryFixedElement.style.transform = 'translateY(0)'; // Tampilkan bar keranjang
            } else {
                cartCountTextElement.textContent = `Keranjang Anda kosong.`;
                cartSummaryFixedElement.style.transform = 'translateY(100%)'; // Sembunyikan bar keranjang
            }
        }

        // Fungsi untuk merender detail keranjang di halaman Checkout
        function updateCheckoutSummary() {
            let summaryHtml = '<p class="text-lg font-semibold text-primary-orange mb-2">Ringkasan Pesanan Anda:</p>';
            let totalOrder = 0;
            let itemCounter = 0;

            for (const productId in cart) {
                const qty = cart[productId];
                if (qty > 0) {
                    itemCounter++;
                    const product = products.find(p => p.id == productId);
                    const subtotal = product.price * qty;
                    totalOrder += subtotal;

                    summaryHtml += `
                        <div class="flex justify-between items-center py-2 border-b last:border-b-0">
                            <span class="text-base">${qty}x ${product.name}</span>
                            <span class="text-base font-bold">Rp ${subtotal.toLocaleString('id-ID')}</span>
                        </div>
                    `;
                }
            }

            if (itemCounter === 0) {
                summaryHtml += `<p class="text-red-500 font-medium">Keranjang kosong. Silakan kembali ke menu untuk memesan.</p>`;
                document.querySelector('#checkout button').disabled = true;
                document.querySelector('#checkout button').classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                 document.querySelector('#checkout button').disabled = false;
                 document.querySelector('#checkout button').classList.remove('opacity-50', 'cursor-not-allowed');
                 summaryHtml += `
                    <div class="pt-3 mt-3 border-t-2 border-primary-orange">
                        <div class="flex justify-between items-center">
                            <span class="text-xl font-bold">Total Pembayaran:</span>
                            <span class="text-xl font-bold text-primary-orange">Rp ${totalOrder.toLocaleString('id-ID')}</span>
                        </div>
                    </div>
                `;
            }

            cartSummaryElement.innerHTML = summaryHtml;
        }

        // Fungsi untuk membuat link WhatsApp otomatis
        function checkoutOrder() {
            const customerName = document.getElementById('customer-name').value.trim();
            const customerAddress = document.getElementById('customer-address').value.trim();
            let totalOrder = 0;
            let orderDetails = "Halo, saya ingin memesan Pisang Crispy:\n\n*Daftar Pesanan:*\n";

            for (const productId in cart) {
                const qty = cart[productId];
                if (qty > 0) {
                    const product = products.find(p => p.id == productId);
                    const subtotal = product.price * qty;
                    totalOrder += subtotal;
                    orderDetails += `- ${qty}x ${product.name} (Rp ${subtotal.toLocaleString('id-ID')})\n`;
                }
            }

            if (totalOrder === 0) {
                // Tampilkan pesan error custom
                document.getElementById('checkout-summary').innerHTML = `
                    <p class="text-red-500 font-medium p-3 bg-red-100 rounded-lg">
                        Keranjang Anda kosong! Silakan tambahkan produk sebelum checkout.
                    </p>`;
                return;
            }

            orderDetails += `\n*Total Belanja:* Rp ${totalOrder.toLocaleString('id-ID')}`;
            
            // Tambahkan detail pelanggan
            if (customerName) {
                orderDetails += `\n*Nama Pelanggan:* ${customerName}`;
            }
            if (customerAddress) {
                orderDetails += `\n*Alamat Pengiriman:* ${customerAddress}`;
            }

            orderDetails += `\n\nTerima kasih! Mohon konfirmasi pesanan saya.`;

            // Membuat URL WhatsApp
            const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(orderDetails)}`;
            
            // Arahkan ke WhatsApp
            window.open(url, '_blank');
        }
    </script>
</body>
</html>

